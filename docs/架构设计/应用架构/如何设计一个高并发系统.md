# 如何设计一个高并发系统

将从服务的入口处，逐层深入：

## 最外层的DDNS动态DNS服务

将一个域名映射到多台四层负载均衡服务器，实现负载均衡服务器的高可用

## 四层负载均衡服务器

常用四层负载均衡服务器：LVS,F5,HAProxy

## 七层负载均衡服务器

常用七层负载均衡服务器：Nginx

## 分布式微服务

微服务通过将复杂的业务分而治之，将一个系统分解为多个微服务，实现服务的独立治理。

常用的微服务框架：SpringCloud，Dubbo，Kubernetes，gRPC,Thrift等

## 微服务引入的机制

1. 网关
2. 分布式事务
3. 分布式锁
4. 限流机制
5. 熔断机制
6. 服务链路追踪
7. 配置中心

## 缓存机制

常见的缓存分为本地缓存和分布式缓存，可以将二者做成多级缓存，先查询本地缓存，再查二级缓存

## 分布式关系型数据库

数据库可以进行垂直分表和水平分表两种方式

### 垂直分表

将一张表的数据以列分为两张，缩小单表数据量

### 水平分表

保持表结构不变，将一张表的数据根据某种规则，切分为多张表

分库分表思路：
1. Proxy模式：通过代理服务实现分库分表
2. Client模式：通过客户端进行切分，常见的为sharding-jdbc

### 分布式消息队列


### CDN内容分发网络









# 类加载机制

类的生命周期包括：
1. 加载 Loading
2. 连接 Linking
  - 验证 Verification
  - 准备 Preparation
  - 解析 Resolution
3. 初始化 Initialization
4. 使用 Using
5. 卸载 Unloading

## 加载 Loading
1. 通过一个类的全限定名获取类的二进制字节流
2. 将字节流代表的静态存储结构转为方法区的运行时数据结构
3. 在内存中生成一个代表这个类的Java.lang.Class对象，作为方法区这个类的各种数据的访问入口。

## 验证 Verification
1. 目的：确保Class文件的字节流中包含的信息符合当前虚拟机的要求，不会危害虚拟机自身安全。
2. 文件格式验证
3. 元数据验证
4. 字节码验证
5. 符号引用验证

## 准备 Preparation
1. 目的：在方法区中为类变量（static）分配内存并设置类变量的初始值。

## 解析 Resolution
1. 目的：将常量池中的符号引用替换为直接引用的过程。
2. 类或接口的解析
3. 字段解析
4. 类方法解析
5. 接口方法解析

## 初始化 Initialization
1. 目的：根据程序员通过程序控制的主观计划去初始化类变量和其他资源。

## 类加载器
 
 1. 启动类加载器：\lib中的类加载，无法被引用
 2. 扩展类加载器：\lib\ext中的类加载，可以被使用
 3. 应用程序类加载器：加载用户路径上所指定的类，程序中默认的类加载器

 ## 双亲委派模型

 一个类加载器收到类加载请求，自己不会进行加载，把这个请求委派给父类去加载，只有父类明确无法加载时，子加载器才会尝试自己去加载。

 


# 内存分区

1. 线程共享区
  - 方法区
    - 运行时常量池
  - 堆
2. 线程私有区
  - 程序计数器
  - 虚拟机栈
  - 本地方法栈
3. 直接内存

## 方法区

存储已被虚拟机加载的：
1. 类信息
2. 常量
3. 静态变量
4. 即时编译后的代码

## 堆

存放对象实例，是垃圾回收器管理的主要区域。Java堆可以处于物理上不连续的内存空间中。

## 程序计数器

记录当前线程所执行的字节码的行号指示器。目的是在线程切换后能恢复到正确的执行位置，每个线程都有一个独立的程序计数器。

1. 执行Java方法：记录的是在执行的虚拟机字节码指令的地址。
2. 执行Native方法：值为空
3. 此区域没有任何OutOfMemoryError错误

## 虚拟机栈

描述Java方法执行的内存模型，每个方法在执行时都会创建一个栈帧，存储
1. 局部变量表
2. 操作数栈
3. 动态链接
4. 出口方法

## 本地方法栈

为执行到的Native方法服务。
